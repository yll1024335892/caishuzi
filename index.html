<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="jquery-1.8.3.min.js"></script>
</head>
<body>
<button id="xxx">确定</button><button id="jiexi">解析</button><button id="sf">二组分析反卜法</button>
<button id="st">二组分析卜法</button><button id="sff">三组分析反卜法</button><button id="stt">三组分析卜法</button>
<div id="res">
    <table>
	 <tr class="res-first">
        <td width="160px"></td>
        <td width="35">1</td>
        <td width="35">2</td>
        <td width="35">3</td>
        <td width="35">4</td>
        <td width="35">5</td>
        <td width="35">6</td>
        <td width="35">7</td>
        <td width="35">8</td>
        <td width="35">9</td>
        <td width="35">10</td>
    </tr>
    <tr class="res-first">
        <td width="160px">二组分析反卜法</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
    </tr>
    <tr class="res-two">
        <td width="160px">二组分析卜法</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
    </tr>
    <tr class="res-three">
        <td width="160px">三组分析反卜法</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
    </tr>
    <tr class="res-four">
        <td width="160px">三组分析卜法</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
        <td width="35" class="b">*</td>
    </tr>
    </table>
</div>
<div id="contain"></div>
<script type="text/javascript">
    $(function () {
        $arr1=new Array();
        $arr2=new Array();
        $arr3=new Array();
//        $("#xxx").click(function () {
//            $("#contain").load("https://csj.1396j.com/pk10/kaijiang #smallHistory");
//        });

        setInterval(function () {
            $("#contain").load("https://csj.1396j.com/pk10/kaijiang #smallHistory");
            analysis();
        },1000);

        function analysis() {
            $arr1=[];
            $arr2=[];
            $arr3=[];
            for($i=1;$i<4;$i++){
                $tdVal=$("#contain tr").eq($i).find('td');
                for ($j=2;$j<12;$j++){
                    $realV= $tdVal.eq($j).html();
                    if($i===1){
                        $arr1[$j-2]=$realV;
                    }else if($i===2){
                        $arr2[$j-2]=$realV;
                    }else if($i===3){
                        $arr3[$j-2]=$realV;
                    }
                }
            }
            reTwoBu($arr1,$arr2);
            twoBu($arr1,$arr2);
            reThreeBu($arr1,$arr2,$arr3);
            threeBu($arr1,$arr2,$arr3);
        }

        $("#jiexi").click(function () {
            $arr1=[];
            $arr2=[];
            $arr3=[];
            for($i=1;$i<4;$i++){
                $tdVal=$("#contain tr").eq($i).find('td');
                for ($j=2;$j<12;$j++){
                    $realV= $tdVal.eq($j).html();
                    if($i===1){
                        $arr1[$j-2]=$realV;
                    }else if($i===2){
                        $arr2[$j-2]=$realV;
                    }else if($i===3){
                        $arr3[$j-2]=$realV;
                    }
                }
            }
            reTwoBu($arr1,$arr2);
            twoBu($arr1,$arr2);
            reThreeBu($arr1,$arr2,$arr3);
            threeBu($arr1,$arr2,$arr3);
        });
        


        function reTwoBu($ar1,$ar2) {//二组分析反卜法
            $(".res-first .b").html("*");
            for ($i=0;$i<10;$i++){
                if($i+2<10){
                    $h1= parseInt($ar2[$i])+parseInt($ar1[$i+1]);
                    $h1v=10-$h1%10;
                    $h2= parseInt($ar2[$i+2])+parseInt($ar1[$i+2]);
                    $h2v=10-$h2%10;
                    if($h1v===$h2v && ($h1+$h1v)%10===0){
                        $(".res-first td").eq($i+2+1).html($h1v);
                    }
                }
            }
        }

        function twoBu($ar1,$ar2) {//二组分析卜法
            $(".res-two .b").html("*");
            for($i=0;$i<10;$i++){
                if($i+2<10){
                    $hh1= parseInt($ar2[$i])+parseInt($ar1[$i]);
                    $hh1v=10-$hh1%10;
                    $hh2= parseInt($ar2[$i+2])+parseInt($ar1[$i+1]);
                    $hh2v=10-$hh2%10;
                    if($hh1v===$hh2v && ($hh1+$hh1v)%10===0){
                        $(".res-two td").eq($i+1).html($hh1v);
                    }
                }
            }

        }

        //        三组分析反卜法
        function reThreeBu($ar1,$ar2,$ar3) {
            $(".res-three .b").html("*");
            for($i=0;$i<10;$i++){
                if($i+2<10){
                    $hh1= parseInt($ar2[$i])+parseInt($ar1[$i]);
                    $hh1v=10-$hh1%10;
                    $hh2= parseInt($ar2[$i+2])+parseInt($ar1[$i+1]);
                    $hh2v=10-$hh2%10;
                    if($hh1v===$hh2v && ($hh1+$hh1v)%10===0){
                        if($i!=7){
                            if($hh1v===parseInt($ar3[$i]) || $hh1v===parseInt($ar3[$i+3])){
                                $(".res-three td").eq($i+2+1).html($hh1v);
                            }
                        }else {
                            if($hh1v===parseInt($ar3[$i])){
                                $(".res-three td").eq($i+2+1).html($hh1v);
                            }
                        }
                    }
                }
            }
            //res-three
        }

        //      三组分析卜法
        function threeBu($ar1,$ar2,$ar3) {
            $(".res-four .b").html("*");
            for($i=0;$i<10;$i++){
                if($i+2<10){
                    $hh1= parseInt($ar2[$i])+parseInt($ar1[$i]);
                    $hh1v=10-$hh1%10;
                    $hh2= parseInt($ar2[$i+2])+parseInt($ar1[$i+1]);
                    $hh2v=10-$hh2%10;
                    if($hh1v===$hh2v && ($hh1+$hh1v)%10===0){
                        if($i!=7){
                            if($hh1v===parseInt($ar3[$i]) || $hh1v===parseInt($ar3[$i+3])){
                                $(".res-four td").eq($i+1).html($hh1v);
                            }
                        }else {
                            if($hh1v===parseInt($ar3[$i])){
                                $(".res-four td").eq($i+1).html($hh1v);
                            }
                        }
                    }
                }
            }
        }





        $("#sf").click(function () {
            $a1=['5','7','8','9','1','6','2','3','4','10'];
            $a2=['6','10','8','9','1','3','5','2','7','4'];
            for ($i=0;$i<10;$i++){
                if($i+2<10){
                    $h1= parseInt($a2[$i])+parseInt($a1[$i+1]);
                    $h1v=10-$h1%10;
                    $h2= parseInt($a2[$i+2])+parseInt($a1[$i+2]);
                    $h2v=10-$h2%10;
                    if($h1v===$h2v && ($h1+$h1v)%10===0){
                        console.log("成功",$i,"值",$h1v);
                    }else {
                        console.log("失败",$i);
                    }
                }
            }
        });

        $("#st").click(function () {
            $a11=['7','8','9','4','2','5','6','10','3','1'];
            $a22=['1','9','7','10','2','5','8','6','4','3'];
            for($i=0;$i<10;$i++){
                if($i+2<10){
                    $hh1= parseInt($a22[$i])+parseInt($a11[$i]);
                    $hh1v=10-$hh1%10;
                    $hh2= parseInt($a22[$i+2])+parseInt($a11[$i+1]);
                    $hh2v=10-$hh2%10;
                    if($hh1v===$hh2v && ($hh1+$hh1v)%10===0){
                        console.log("成功",$i,"值",$hh1v);
                    }else {
                        console.log("失败",$i);
                    }
                }
            }
        });



        
        $("#sff").click(function () {
            $a1=['8','4','5','7','1','6','3','2','10','9'];
            $a2=['10','7','3','5','8','4','6','2','1','9'];
            $a3=['8','6','3','1','9','4','7','10','2','5'];
            for ($i=0;$i<10;$i++){
                if($i+2<10){
                    $h1= parseInt($a2[$i])+parseInt($a1[$i+1]);
                    $h1v=10-$h1%10;
                    $h2= parseInt($a2[$i+2])+parseInt($a1[$i+2]);
                    $h2v=10-$h2%10;
                    if($h1v===$h2v && ($h1+$h1v)%10===0){
                        if($i==1){
                            if(parseInt($a3[$i-1])===$h1v){
                                console.log("成功",$i,"值",$h1v);
                            }
                        }else {
                            if(parseInt($a3[$i+2])===$h1v || parseInt($a3[$i-1])===$h1v){
                                console.log("成功",$i,"值",$h1v);
                            }
                        }
                    }
                }
            }

        });



        
        $("#stt").click(function () {
            $a11=['7','8','9','4','2','5','6','10','3','1'];
            $a22=['1','9','7','10','2','5','8','6','4','3'];
            $a33=['7','3','10','1','6','8','9','4','5','2'];
            for($i=0;$i<10;$i++){
                if($i+2<10){
                    $hh1= parseInt($a22[$i])+parseInt($a11[$i]);
                    $hh1v=10-$hh1%10;
                    $hh2= parseInt($a22[$i+2])+parseInt($a11[$i+1]);
                    $hh2v=10-$hh2%10;
                    if($hh1v===$hh2v && ($hh1+$hh1v)%10===0){
                        if($i!=7){
                            if($hh1v===parseInt($a33[$i]) || $hh1v===parseInt($a33[$i+3])){
                                console.log("第"+$i+"行",$a33[$i]);
                            }
                        }else {
                            if($hh1v===parseInt($a33[$i])){
                                console.log("第"+$i+"行",$a33[$i]);
                            }
                        }
                    }
                }
            }
        });



    });
</script>
</body>
</html>